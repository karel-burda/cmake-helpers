stages:
  - tests

jobs:
  include:
     - stage: tests
       dist: trusty
       os: linux
       script:
         - set -e

         - cmake -Bbuild -H. -DINTEGRATION_TESTS:BOOL=ON -DCMAKE_BUILD_TYPE:STRING=Debug
         - cmake --build build --config Debug

         - git clean -fdxq

         - cmake -Bbuild -H. -DINTEGRATION_TESTS:BOOL=ON -DCMAKE_BUILD_TYPE:STRING=RelWithDebInfo
         - cmake --build build --config RelWithDebInfo

         - set +e
